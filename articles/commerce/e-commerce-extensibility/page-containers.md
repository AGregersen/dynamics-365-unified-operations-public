---
# required metadata

title: Page containers
description: A page container contains the core structure for page authoring.  An example could be a page container with a slot defined for the header, main content area and footer area.  A page container is simply a module that controls the layout of a set of named slots.  A page container can only be imbedded at the root of a page.  Each page must have one and only one page container.
author: SamJarawan
manager: JeffBl
ms.date: 08/30/2019
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 

# optional metadata

# ms.search.form: 
audience: Developer
# ms.devlang: 
ms.reviewer: josaw
ms.search.scope: Retail, Core, Operations
# ms.tgt_pltfrm: 
ms.custom: 
ms.assetid: 
ms.search.region: Global
# ms.search.industry: 
ms.author: SamJar
ms.search.validFrom: 2019-08-30
ms.dyn365.ops.version: 

---
# Create a page container module
A page container contains the core structure for page authoring.  An example could be a page container with a slot defined for the header, main content area and footer area.  A page container is simply a module that controls the layout of a set of named slots.  A page container can only be imbedded at the root of a page.  Each page must have one and only one page container.

Similarly, to layout container modules, page container modules can define names slots which are surfaced to template authors.  Page authors can configure which modules go into each slot and the container render code controls the layout of those slots.  Configuration settings can also be exposed to page authors to further configure the layout.

To create a new page container module the SDK provides a CLI command `yarn msdyn365 add-module MODULE_NAME`, where `MODULE_NAME` is the name to provide your module.  The `$type` will then need to be changed to `containerModule`.

Below is an example to create a module called `campaignPageContainer`:
```
yarn msdyn365 add-module campaignPageContainer
```

Creating the module could take 20-30 seconds as it pulls down any required dependencies.  When it's complete you will find the module in the `\src\modules\` directory.

Open the new module definition file campaignPageContainer.definition.json and change the `$type` to `containerModule`. In the below example note the “slots” section contains the various slots the page container will support. 

```
{
    "$type": "containerModule",
    "friendlyName": "Campaign Page Container",
    "name": "campaignPageContainer",
    "description": "This is a test page container.",
    "categories": ["page-container"],
    "tags": [""],
    "module": {
        "view": "./campaignPageContainer"
    },
    "config": {
    },
    "slots": {
        "header":
        {
            "friendlyName": "Header Slot",
            "description": "This is the header slot",
            "allowedTypes": ["myContainer"],
            "max": 10,
            "min": 0
        },
        "primary":
        {
            "friendlyName": "Main Slot",
            "description": "This is the Primary slot",
            "allowedTypes": ["myContainer", "hero", "feature", "banner"],
            "max": 50,
            "min": 0
        },
        "footer":
        {
            "friendlyName": "Footer Slot",
            "description": "This is the footer slot",
            "allowedTypes": ["myContainer"],
            "max": 10,
            "min": 0
        }
    }
}
```

Notice above in the “slots” section, each named slot allows you to define what “allowedTypes” of modules are allowed.  You can specify the allow list or use “*” to allow any module to be placed in the slot.  
The HTML structure for our page can now be defined in the MODULE_NAME.tsx view file.

Below is an example of the react view file (campaignPageContainer.tsx) leveraging the slots for the container:

```
import * as React from 'react';

import { ICampaignPageContainerData } from './campaignPageContaine.data';
import { ICampaignPageContaineProps } from './campaignPageContaine.props.autogenerated';

/**
 *
 * CampaignPageContaine component
 * @extends {React.PureComponent<ICampaignPageContaineProps<ICampaignPageContaineData>>}
 */
class CampaignPageContaine extends React.PureComponent<ICampaignPageContaineProps<ICampaignPageContaineData>> {
    public render(): JSX.Element {
        const { data, slots } = this.props;

        if (!slots) {
            return (
                <div className='row'> No Slots Configured</div>
            );
        }

        return (
            <div>
                <div className='row'>
                    {slots.header[0]}
                </div>
                <div className='row'>
                    {slots.primary[0]}
                </div>
                <div className='row'>
                    {slots.footer[0]}
                </div>
            </div>
        );
    }
}

export default CampaignPageContaine;
```

## Testing a page container module
To test a page container module locally, we’ll need to leverage a page mock. 

Below is a sample page mock that can be leveraged for testing and is saved in the pageMocks directory as campaignContainerMock.json.

```
{
    "exception": null,
    "pageRoot": {
      "modules": {
        "primary": [{
            "modules": {
                "slot1": [{ "id": "ProductFeature__0", "typeName": "productFeature" }],
                "slot2": [{ "id": "ProductFeature__1", "typeName": "productFeature" }]
                },
            "id": "primaryArea__0",
            "typeName": "myContainer"
        }]  
      },
      "id": "default-page_0",
      "typeName": "myPageContainer"
    },
    "modules": {
      "default-page_0": {
        "id": "default-page_0",
        "typeName": "myPageContainer"
      },
      "primaryArea__0": {
        "id": "primaryArea__0",
        "typeName": "myContainer"
      },
      "ProductFeature__0": {
        "config": {
            "imageAlignment": "left",
            "productTitle": "Men's Wingtip Shoe",
            "productDetails": "Genuine leather crafted with care.",
            "buttonText": "Buy Now"
        },
        "id": "ProductFeature__0",
        "typeName": "productFeature"
      },
      "ProductFeature__1": {
        "config": {
            "imageAlignment": "right",
            "productTitle": "Men's Wingtip Shoe",
            "productDetails": "Genuine leather crafted with care.",
            "buttonText": "Buy Now"
        },
        "id": "ProductFeature__1",
        "typeName": "productFeature"
      }
    },
    "renderingContext": {
      "staticContext": {
        "staticCdnUrl": "/_scnr/"
      },
      "locale": "en-us"
    },
    "statusCode": 200
}
```
Note the above page mock only defines the page container primary slot, the header and footer slots can also be included as desired.

## Run the module locally
To view the module rendering locally in a browser:
1. Start the app from a command prompt, navigate to your root SDK folder and run `yarn start`:
    ```
    c:\repos\MyEcommerceSite\yarn start
    ```
1. Launch the following pages in a browser.  Notice the module name in the query string parameter "type=MODULE_NAME":
    * https://localhost:4000/page?mock=campaignContainerMock
