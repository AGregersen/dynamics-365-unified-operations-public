---
# required metadata

title: Page containers
description: A page container contains the core structure for page authoring.  An example could be a page container with a slot defined for the header, main content area and footer area.  A page container is simply a module that controls the layout of a set of named slots.  A page container can only be imbedded at the root of a page.  Each page must have one and only one page container.
author: SamJarawan
manager: JeffBl
ms.date: 08/30/2019
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 

# optional metadata

# ms.search.form: 
audience: Developer
# ms.devlang: 
ms.reviewer: josaw
ms.search.scope: Retail, Core, Operations
# ms.tgt_pltfrm: 
ms.custom: 
ms.assetid: 
ms.search.region: Global
# ms.search.industry: 
ms.author: SamJar
ms.search.validFrom: 2019-08-30
ms.dyn365.ops.version: 

---
# Create a page container module
A page container contains the core structure for page authoring.  An example could be a page container with a **slot** (region the UI will be rendered) defined for the header, main content area and footer area.  A page container is simply a module that controls the layout of a set of slots.  A page container can only be imbedded at the root of a page and each page must have one and only one page container.

Similarly to layout container modules, page container modules can define **named slots** which are surfaced in the template authoring tools.  Page authors can configure which modules go into each slot and the container render code controls the layout of those slots.  Configuration settings can also be exposed to page authors to further configure the layout.

To create a new page container module use the online SDK CLI command **yarn msdyn365 add-module MODULE_NAME** to create a new module and change the **$type** to **containerModule**.

Below example creates a module called `campaignPageContainer`:
```
yarn msdyn365 add-module campaignPageContainer
```

Open the new module definition file campaignPageContainer.definition.json and change the **$type** to **containerModule**. In the below example note the **slots** section contains the various named slots the page container will support. To restrict the slot to only allow a specific set of modules, the "allowedTypes" array is used.  You can specify the allow list or use "*" to allow any module to be placed in the slot.  

```
{
    "$type": "containerModule",
    "friendlyName": "Campaign Page Container",
    "name": "campaignPageContainer",
    "description": "This is a test page container.",
    "categories": ["page-container"],
    "tags": [""],
    "module": {
        "view": "./campaignPageContainer"
    },
    "config": {
    },
    "slots": {
        "header":
        {
            "friendlyName": "Header Slot",
            "description": "This is the header slot",
            "allowedTypes": ["myContainer"],
            "max": 10,
            "min": 0
        },
        "primary":
        {
            "friendlyName": "Main Slot",
            "description": "This is the Primary slot",
            "allowedTypes": ["myContainer", "hero", "feature", "banner"],
            "max": 50,
            "min": 0
        },
        "footer":
        {
            "friendlyName": "Footer Slot",
            "description": "This is the footer slot",
            "allowedTypes": ["myContainer"],
            "max": 10,
            "min": 0
        }
    }
}
```

The HTML structure for the slots on the page can be defined in the MODULE_NAME.tsx view file.

Below is an example of the react view file (campaignPageContainer.tsx) leveraging the slots for the container:

```
import * as React from 'react';

import { ICampaignPageContainerData } from './campaignPageContaine.data';
import { ICampaignPageContaineProps } from './campaignPageContaine.props.autogenerated';

/**
 *
 * CampaignPageContaine component
 * @extends {React.PureComponent<ICampaignPageContaineProps<ICampaignPageContaineData>>}
 */
class CampaignPageContaine extends React.PureComponent<ICampaignPageContaineProps<ICampaignPageContaineData>> {
    public render(): JSX.Element {
        const { data, slots } = this.props;

        if (!slots) {
            return (
                <div className='row'> No Slots Configured</div>
            );
        }

        return (
            <div>
                <div className='row'>
                    {slots.header[0]}
                </div>
                <div className='row'>
                    {slots.primary[0]}
                </div>
                <div className='row'>
                    {slots.footer[0]}
                </div>
            </div>
        );
    }
}

export default CampaignPageContaine;
```

## Testing a page container module
A page mock is needed to test a page container module in a local development environment.

Below is a sample page mock that can be leveraged for testing and is saved in the **/src/pageMocks** directory as campaignContainerMock.json.

```
{
    "exception": null,
    "pageRoot": {
      "modules": {
        "primary": [{
            "modules": {
                "slot1": [{ "id": "ProductFeature__0", "typeName": "productFeature" }],
                "slot2": [{ "id": "ProductFeature__1", "typeName": "productFeature" }]
                },
            "id": "primaryArea__0",
            "typeName": "myContainer"
        }]  
      },
      "id": "default-page_0",
      "typeName": "myPageContainer"
    },
    "modules": {
      "default-page_0": {
        "id": "default-page_0",
        "typeName": "myPageContainer"
      },
      "primaryArea__0": {
        "id": "primaryArea__0",
        "typeName": "myContainer"
      },
      "ProductFeature__0": {
        "config": {
            "imageAlignment": "left",
            "productTitle": "Men's Wingtip Shoe",
            "productDetails": "Genuine leather crafted with care.",
            "buttonText": "Buy Now"
        },
        "id": "ProductFeature__0",
        "typeName": "productFeature"
      },
      "ProductFeature__1": {
        "config": {
            "imageAlignment": "right",
            "productTitle": "Men's Wingtip Shoe",
            "productDetails": "Genuine leather crafted with care.",
            "buttonText": "Buy Now"
        },
        "id": "ProductFeature__1",
        "typeName": "productFeature"
      }
    },
    "renderingContext": {
      "staticContext": {
        "staticCdnUrl": "/_scnr/"
      },
      "locale": "en-us"
    },
    "statusCode": 200
}
```
Note the above page mock only defines the page container primary slot, the header and footer slots can also be included as desired.

## Preview the page
To preview the page in a local web browser, follow these steps.

1. At a command prompt, go to your root SDK folder, and run the **yarn start** command. Here is an example.

    ```
    c:\repos\MyEcommerceSite\yarn start
    ```

2. Open the following URL in a web browser to view the module: `https://localhost:4000/page?mock=campaignContainerMock`. Notice the page mock name in the **"mock=** query string parameter.
