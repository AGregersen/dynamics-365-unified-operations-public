---
# required metadata

title: Create a page container module
description: This topic describes how to create a page container module in Dynamics 365 Commerce.
author: samjarawan
manager: annbe
ms.date: 10/01/2019
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-retail
ms.technology: 

# optional metadata

# ms.search.form: 
audience: Application user
# ms.devlang: 
ms.reviewer: v-chgri
ms.search.scope: Retail, Core, Operations
# ms.tgt_pltfrm: 
ms.custom: 
ms.assetid: 
ms.search.region: Global
# ms.search.industry: 
ms.author: samjar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5

---
# Create a page container module

[!include [banner](../includes/preview-banner.md)]
[!include [banner](../includes/banner.md)]

This topic describes how to create a page container module in Dynamics 365 Commerce.

## Overview

A page container is a module that controls the core structure of a page with specific layout regions called *slots*. An example could be a page container with a slot defined for the header, main content area, and footer area. A page container can only be embedded at the root of a page, and each page must only have one page container.

Similarly to layout container modules, page container modules can define *named slots* which are exposed in the template authoring tool. Page authors can configure which modules go into each slot and the container render code controls the layout of those slots.  Configuration settings can also be exposed to page authors to further configure the layout.

## Create a new page container module

To create a new page container module use the online SDK CLI command **yarn msdyn365 add-module MODULE_NAME** to create a new module and change the **$type** to **containerModule**.

The following example creates a module called `campaignPageContainer`:

```
yarn msdyn365 add-module campaignPageContainer
```

Open the new module definition file campaignPageContainer.definition.json and change the **$type** to **containerModule**. In the example below, note that the **slots** section contains the various named slots that the page container supports. To restrict the slot to only allow a specific set of modules, the "allowedTypes" array is used. You can specify the allow list or use "&#42;" to allow any module to be placed in the slot.  

```
{
    "$type": "containerModule",
    "friendlyName": "Campaign Page Container",
    "name": "campaignPageContainer",
    "description": "This is a test page container.",
    "categories": ["page-container"],
    "tags": [""],
    "module": {
        "view": "./campaignPageContainer"
    },
    "config": {
        "skipToMainText": {
            "friendlyName": "Skip to main text",
            "description": "Skip to main text",
            "type": "string",
            "default": "Skip to main content",
            "group": "data"
        }
    },
    "slots": {
        "header":
        {
            "friendlyName": "Header Slot",
            "description": "This is the header slot",
            "allowedTypes": ["myContainer"],
            "max": 10,
            "min": 0
        },
        "primary":
        {
            "friendlyName": "Main Slot",
            "description": "This is the Primary slot",
            "allowedTypes": ["myContainer", "hero", "feature", "banner"],
            "max": 50,
            "min": 0
        },
        "footer":
        {
            "friendlyName": "Footer Slot",
            "description": "This is the footer slot",
            "allowedTypes": ["myContainer"],
            "max": 10,
            "min": 0
        }
    }
}
```

The HTML structure for the slots on the page can be defined in the MODULE_NAME.tsx view file.

The following example shows a react view file (campaignPageContainer.tsx) leveraging the slots for the container.

```
import * as React from 'react';

import { ICampaignPageContainerData } from './campaignPageContaine.data';
import { ICampaignPageContaineProps } from './campaignPageContaine.props.autogenerated';

/**
 *
 * CampaignPageContaine component
 * @extends {React.PureComponent<ICampaignPageContaineProps<ICampaignPageContaineData>>}
 */
class CampaignPageContaine extends React.PureComponent<ICampaignPageContaineProps<ICampaignPageContaineData>> {
    public render(): JSX.Element | null {
        const { slots, telemetry, id, typeName } = this.props;

        let skipToMainText = this.props.config && this.props.config.skipToMainText;
        telemetry.log(LogLevel.Debug, 'CampaignPageContaine rendering for \'{id}/{typeName}\'', { values: [id, typeName] });

        if (!skipToMainText) {
            skipToMainText =
                this.props.context.app && this.props.context.app.platform ? this.props.context.app.platform.skipToMainText : '';
        }

        return (
            <React.Fragment>
                <a
                    className='skip-to-main'
                    href='#main'
                    tabIndex={0}
                    style={{ height: '1px', left: '-999px', position: 'absolute', width: '1px', zIndex: 300002 }}
                >
                    {skipToMainText}
                </a>
                 <header>
                    {slots &&
                        slots.header &&
                        slots.header.map((children: React.ReactNode) => {
                            return children;
                        })}
                </header>
                <main id='main'>
                    {slots &&
                        slots.primary &&
                        slots.primary.map((children: React.ReactNode) => {
                            return children;
                        })}
                </main>
                <footer>
                    {slots &&
                        slots.footer &&
                        slots.footer.map((children: React.ReactNode) => {
                            return children;
                        })}
                </footer>
            </React.Fragment>
        );
    }
}

export default CampaignPageContaine;
```

## Test a page container module
A page mock is needed to test a page container module in a local development environment.

The following example shows a page mock that can be used for testing. It is saved in the **/src/pageMocks** directory as campaignContainerMock.json.

```
{
    "exception": null,
    "pageRoot": {
        "id": "core-root_0",
        "typeName": "core-root",
        "modules": {
            "body": [
                {
                    "id": "default-page_0",
                    "typeName": "myPageContainer",
                    "modules": {
                        "primary": [
                            {
                                "id": "primaryArea__0",
                                "typeName": "myContainer"
                                "modules": {
                                    "slot1": [
                                        { 
                                            "id": "ProductFeature__0",
                                            "typeName": "productFeature",
                                            "config": {
                                                "imageAlignment": "left",
                                                "productTitle": "Men's Grand Wingtip Shoe",
                                                "productDetails": "Genuine leather crafted with perfection.",           
                                                "buttonText": "Buy Now"
                                            }
                                        }
                                    ],
                                    "slot2": [
                                        { 
                                            "id": "ProductFeature__1",
                                            "typeName": "productFeature" ,
                                            "config": {
                                                "imageAlignment": "right",
                                                "productTitle": "Men's Grand Wingtip Shoe",
                                                "productDetails": "Genuine leather crafted with perfection.",   
                                                "buttonText": "Buy Now"
                                            }
                                        }
                                    ]
                                }                   
                            }
                        ] 
                    }
                }
            ]         
        } 
    },
    "renderingContext": {
      "staticContext": {
        "staticCdnUrl": "/_scnr/"
      },
      "locale": "en-us"
    },
    "statusCode": 200
}
```
Note that the page mock above only defines the page container primary slot. The header and footer slots can also be included as needed.

## Preview the page

To preview the page in a local web browser, do the following.

1. At a command prompt, go to your root SDK folder and run the **yarn start** command. Here is an example.

    ```
    c:\repos\MyEcommerceSite\yarn start
    ```

1. Open the following URL in a web browser to view the module: `https://localhost:4000/page?mock=campaignContainerMock`. Note the page mock name in the **mock=** query string parameter.
