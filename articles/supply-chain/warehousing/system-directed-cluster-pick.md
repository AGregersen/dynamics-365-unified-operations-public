---
# required metadata

title: System-directed cluster picking
description: This topic provides an overview of system directed cluster picking in Dynamics 365 SUpply Chain Management.
author: Mirzaab
manager: AnnBe
ms.date: 12/10/2019
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 

# optional metadata

ms.search.form: 
# ROBOTS: 
audience: Application User
# ms.devlang: 
ms.reviewer: josaw
ms.search.scope: Core, Operations, Supply Chain Management
# ms.tgt_pltfrm: 
ms.custom: 
ms.assetid: 
ms.search.region: Global
# ms.search.industry: 
ms.author: perlynne
ms.search.validFrom: 2019-12-31
ms.dyn365.ops.version: 10.0.1

---

# System-directed cluster picking

[!include [banner](../includes/banner.md)]

Cluster picking is a piece picking process that enables you to pick items for multiple orders at the same time by clustering them together into pick clusters, and thereby visiting the pick location only once. Typically, this functionality is used with small order picking or less than case quantities.

With the setup of system-directed cluster picking, you can cluster pick work headers based off of a system-generated cluster. The system will cluster picking orders up to the number of positions specified on the cluster profile. This allows you to pick multiple orders at the same time without having to create a cluster manually.

System-directed cluster picking offers an alternative to manual cluster building by using a cluster profile to create a cluster. Several setup-related lines need to be defined on the cluster profile before use.

- **Number of positions** corresponds with the number of orders that will be put on a cluster and consequently to the number of totes.
- **Break cluster** determines when should the cluster be broken.
- **Generate cluster ID** controls whether the cluster ID will be generated by the system or entered by the user.
- **Sort verification type** determines whether position verification is needed.

A new mobile device menu item should be used for system-directed cluster picking. The cluster profile ID must be specified on the **Directed by** option. The assignment of work orders can be optimized further by specifying customized sorting criteria on the system directed query order, which can group orders based on company-specific criteria.

At the time of picking using a system-directed cluster, warehouse workers will be presented with a cluster where picking orders have been pre-assigned assigned to cluster positions. Workers can therefore start picking an item for multiple work orders by visiting the pick location only once. The picking process for system-directed cluster picking is the same as for the user-directed cluster picking.

## Set up system-directed cluster picking

### Cluster profiles

1. Go to to **Warehouse management > Setup > Mobile device > Cluster profiles**. Cluster profile controls how each cluster will be created by the system. If different clusters are needed, different cluster profiles should be created, one for each mobile device menu item.

2. Click **New**.

3. In the **Cluster profile ID** filed, enter "2 Position".

4. In the **Name** filed, enter "2 Position".

5. On the **General** FastTab, do the following:

    - **Generate cluster ID**: set the toggle to **Yes**. This setting determines whether the cluster ID should be created automatically by the system or whether the user should create it at the start of picking.

    - **Activate positions**: set the toggle to **Yes**. This setting determines whether the position names should be generated automatically based on the position name setup. If this is not set to **Yes**, the license plate ID for the position is used.

    - **Number of positions**: enter "2". This setting determines the maximum number of positions the cluster can have (number of boxes, totes, etc.)
      
    - **Position name**: select **Numeric**. If you choose **Alphabetical**, the positions will be named in alphabetical order. If you select **Numeric**, positions will be named in continuous numbers.
    
    - **Break cluster at**: select **Put**. This setting determines when the cluster should be broken.

    - **Sort verification type**: select **Position scan**. This determines whether the put to position step should be verified.
 
6. On the **Cluster sorting** FastTab, you can define the sorting criteria by creating a new line and doing the following:

    - **Sequence number**: determines the sequence the system will sort by. It is added automatically but you can change the value if needed.
     
    - **Field name**: select **WMSLocationId**. This field determines the field that the line will use for sorting criteria.
    
    - **Sorting**: select **Ascending**. This field defines whether the sorting should be done in ascending or descending order.

### Mobile device menu item

To create a new mobile device menu item for system-directed cluster picking and tie the cluster profile ID to the mobile device menu item, do the following. 

1. Go to **Warehouse management > Setup > Mobile device > Mobile device menu items**.

2. Click **New**. 

3. In the **Menu item name** field, enter "SD Cluster".

4. In the **Title** field, enter "SD Cluster".

5. In the **Mode** field, select **Work**.

6. Set the **Use existing work** toggle to **Yes**.

7. On the **General** FastTab, do the following:

    - **Directed by**: select **System directed**.
    
    - **Generate license plate**: set the toggle to **Yes**. 
    
    - **Cluster profile ID**: select **2 Position**.

8. On the **Work classes** FastTab, set up the valid work class for this mobile device menu item by doing the following:

    - **Work class ID**: make sure **Sales** is entered in this field.
    
    - **Work order type**: make sure **Sales orders** is entered in this field.

9. Specify a new system directed work sequence query by doing the following:

    - Click **New**.

    - In the **Sequence number** field, enter "1".
    
    - In the **Description** field, select **Work priority â€“ Work ID**.

10. In the menu, click **Edit query**. 

11. On the **Sorting** tab, do the following: 

    - **Table**: select **Work**.
        
    - **Derived table**: select **Work**.
    
    - **Field**: select **Work priority**.
    
    - **Search direction**: select **Ascending**.

    - **Table**: select **Work**.
        
    - **Derived table**: select **Work**.
    
    - **Field**: select **Work ID**.
    
    - **Search direction**: select **Ascending**.

The system will now sort work IDs within the cluster first based on work priority, then on work ID.

### Mobile device menu

Go to **Warehouse management > Setup > Mobile device > Mobile device menu** and add the newly created menu item to the desired menu.


## Example

### Create picking work

Before system-directed cluster picking can be set up, some eligible outbound work must be created. The previously-created cluster profile specifies two cluster positions, so here you will create at least two different work IDs.

1. Go to **Sales and Marketing > Sales orders > All sales orders**. 

2. Click **New** to create a new sales order.

3. In the **Customer account** field, select any customer.

4. On the **General** FastTab, in the **Warehouse** field, select warehouse **62**.

5. Click **Ok**.

6. On the **Sales order lines** FastTab, click **Add line**.

7. In the **Item number** field, select **A0001**.

8. In the **Quantity** field, enter "1".

9. Click **Add line** to add a second line.

10. In the **Item number** field, select **A0002**.

11. In the **Quantity** field, enter "3".

12. Repeat steps 2 through 6.

13. In the **Item number** field, select **A0001**.

14. In the **Quantity** field, enter "4". 

15. Click **Add line** to add a second line.

16. In the **Item number** field, select **A0002**.

17. In the **Quantity** field, enter "2".

Reserve the inventory and release it to the warehouse. Two different work IDs will be created, each with two pick lines.

### Mobile device flow

1. On the mobile device, select the menu where the new mobile device menu item is located.

2. Select the SD cluster menu item and initiate the pick. A cluster with the two previously created work IDs attached to it is created. If you created more work IDs, only the first two will be added to the cluster. Note that the work IDs have been added to the cluster in ascending order, as defined on the query setup.

3. After selecting the menu, you will see the first pick screen. The system will aggregate all matching pick lines from the two work IDs and direct you to visit the pick location only once to satisfy both orders with one pick. This is done in the same way as user-directed cluster picking.

4. Confirm the first pick. You will then need to enter the position name to confirm the put to each correct position.

5. Repeat this process until all items have been picked and put to the correct position.

6. The last step on the mobile device is to put the cluster to the final location. When this is confirmed, the cluster is closed and broken, as defined in the **Break cluster at** setting on the cluster profile. Work IDs are also closed.

7. A "cluster complete" message is now displayed on the mobile device.

> [!NOTE]
> If enough additional work IDs were created beforehand, the new cluster will be created automatically. If not, a message with "Not enough work can be found for cluster" will be displayed.
